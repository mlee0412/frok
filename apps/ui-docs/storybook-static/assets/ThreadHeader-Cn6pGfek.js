import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{r as c}from"./index-BfiH1CDa.js";function E(...n){return n.filter(Boolean).join(" ")}const N=c.forwardRef(({className:n,variant:s="primary",size:o="md",...r},i)=>{const p="inline-flex items-center justify-center gap-2 rounded-md font-medium border focus-visible:outline-none focus-visible:ring-2 transition",a={sm:"h-8 px-3 text-xs",md:"h-9 px-4 text-sm",lg:"h-11 px-5 text-base"},t={primary:"bg-[var(--color-surface)] text-[var(--color-primary)] border-[var(--color-primary)] hover:opacity-90 focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1 focus-visible:ring-offset-black/20",outline:"bg-transparent text-[var(--color-foreground)] border-[var(--color-border)] hover:bg-[var(--color-surface)] focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1 focus-visible:ring-offset-black/20",ghost:"bg-transparent text-[var(--color-foreground)] border-transparent hover:bg-[var(--color-surface)] focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1 focus-visible:ring-offset-black/20"};return e.jsx("button",{ref:i,className:E(p,a[o],t[s],n),...r})});N.displayName="Button";N.__docgenInfo={description:"",methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:"'primary' | 'outline' | 'ghost'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'outline'"},{name:"literal",value:"'ghost'"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}}}};function L({className:n,...s}){return e.jsx("div",{className:["rounded-2xl border border-[var(--color-border)] bg-[var(--color-surface)] shadow-xl backdrop-blur-sm",n].filter(Boolean).join(" "),...s})}L.__docgenInfo={description:"",methods:[],displayName:"Card",props:{asChild:{required:!1,tsType:{name:"boolean"},description:""}}};function S({items:n,value:s,defaultValue:o,onValueChange:r,className:i}){var u;const[p,a]=c.useState(o??((u=n[0])==null?void 0:u.value)??""),t=s??p;function g(m){a(m),r==null||r(m)}return e.jsx("div",{className:["w-full",i].filter(Boolean).join(" "),children:e.jsx("div",{role:"tablist",className:"flex border-b border-border gap-1",children:n.map(m=>e.jsx("button",{role:"tab","aria-selected":t===m.value,onClick:()=>g(m.value),className:["px-3 py-2 text-sm rounded-t-md border-b-2",t===m.value?"text-primary border-primary/60":"text-foreground/70 border-transparent hover:text-foreground"].join(" "),children:m.label},m.value))})})}S.__docgenInfo={description:"",methods:[],displayName:"Tabs",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"Item[]"},description:""},value:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"string"},description:""},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(v: string) => void",signature:{arguments:[{type:{name:"string"},name:"v"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const R=c.forwardRef(({className:n,...s},o)=>e.jsx("input",{ref:o,className:["h-9 w-full rounded-md bg-surface border border-border px-3 text-sm text-foreground placeholder:text-foreground/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1",n].filter(Boolean).join(" "),...s}));R.displayName="Input";R.__docgenInfo={description:"",methods:[],displayName:"Input"};function B({sideNav:n,header:s,children:o,footer:r,className:i}){return e.jsxs("div",{className:["min-h-[100dvh] flex items-stretch overflow-hidden bg-background text-foreground",i].filter(Boolean).join(" "),children:[e.jsx("div",{className:"flex-none",children:n}),e.jsxs("main",{className:"flex-1 flex flex-col h-[100dvh] overflow-y-auto",children:[s,e.jsx("div",{className:"flex-1 container-app",children:o}),r&&e.jsx("div",{className:"mt-auto border-t border-border",children:e.jsx("div",{className:"container-app px-4 py-3 text-xs text-foreground/60",children:r})})]})]})}B.__docgenInfo={description:"",methods:[],displayName:"AppShell",props:{sideNav:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},header:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},footer:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const z=c.forwardRef(function(s,o){return e.jsx("a",{ref:o,...s})});function D({items:n,header:s,footer:o,activeHref:r,className:i,collapsible:p,defaultCollapsed:a,onCollapsedChange:t,linkComponent:g,mobileBreakpoint:u="md",userEmail:m,onSignIn:b,onSignOut:h}){const[d,l]=c.useState(!!a),[f,q]=c.useState(!1),v=x=>r&&(x==="/dashboard"?r==="/dashboard":r===x||r.startsWith(x+"/")),w=g??z,k=()=>{q(!1)},j=u==="lg"?"lg:flex":"md:flex",T=u==="lg"?"hidden lg:flex":"hidden md:flex";return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>q(!0),className:`${j.replace(":flex",":hidden")} fixed top-4 left-4 z-40 p-2 rounded-md bg-surface border border-border text-foreground hover:bg-surface/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]`,"aria-label":"Open navigation menu",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),f&&e.jsx("div",{className:`${j.replace(":flex",":hidden")} fixed inset-0 bg-black/50 z-40`,onClick:()=>q(!1),"aria-hidden":"true"}),e.jsxs("aside",{className:[d?"w-16":"w-60","h-screen border-r border-border backdrop-blur-sm bg-surface py-6 overflow-hidden",f?"flex flex-col fixed top-0 left-0 z-50 shadow-2xl":"",f?"":T,f?"":"sticky top-0",u==="lg"?"lg:flex-col":"md:flex-col",i].filter(Boolean).join(" "),"aria-expanded":!d,"data-collapsed":d?"true":"false",children:[f&&e.jsx("button",{type:"button",onClick:()=>q(!1),className:`${j.replace(":flex",":hidden")} absolute top-4 right-4 p-1 rounded-md text-foreground/60 hover:text-foreground hover:bg-surface focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]`,"aria-label":"Close navigation menu",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s,p?e.jsx("div",{className:"px-4 mb-4",children:e.jsxs("button",{type:"button","aria-label":d?"Expand navigation":"Collapse navigation","aria-expanded":!d,className:"w-full text-xs rounded-md border border-border text-foreground/80 hover:bg-surface px-2 py-1 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1",onClick:()=>{const x=!d;l(x),t==null||t(x)},children:[d?"»":"«"," Menu"]})}):null,e.jsx("nav",{className:["flex flex-col space-y-1 w-full",d?"px-2":"px-4"].join(" "),children:n.map(x=>{if(x.disabled)return e.jsx("div",{className:["py-1 text-xs text-center text-foreground/20 pointer-events-none",d?"px-0":"px-4"].join(" "),"aria-hidden":"true",children:d?"":x.label},x.href);const y=v(x.href)?"page":void 0,C=["rounded-md py-2 text-sm transition border-l-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1",d?"px-0 text-center":"pl-4 pr-3 text-left",y?"bg-surface text-primary border-l-primary":"hover:bg-surface hover:text-primary border-l-transparent text-foreground/80"].join(" ");return e.jsxs(w,{href:x.href,title:x.label,"aria-current":y,className:C,onClick:k,children:[e.jsx("span",{className:d?"sr-only":"",children:x.label}),d?e.jsx("span",{"aria-hidden":!0,children:"•"}):null]},x.href)})}),(m||b)&&e.jsx("div",{className:"mt-auto px-4 pt-4 border-t border-border",children:m?e.jsxs("div",{className:"space-y-2",children:[!d&&e.jsx("div",{className:"text-xs text-foreground/60 truncate",title:m,children:m}),e.jsx("button",{onClick:h,className:"w-full px-3 py-2 text-sm bg-surface hover:bg-surface/80 border border-border rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]",children:d?"↪":"Sign Out"})]}):e.jsx("button",{onClick:b,className:"w-full px-3 py-2 text-sm bg-primary hover:bg-primary/90 text-white rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]",children:d?"→":"Sign In"})}),o]})]})}D.__docgenInfo={description:"",methods:[],displayName:"SideNav",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; href: string; disabled?: boolean }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}}]}}],raw:"Item[]"},description:""},header:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},footer:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},activeHref:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},collapsible:{required:!1,tsType:{name:"boolean"},description:""},defaultCollapsed:{required:!1,tsType:{name:"boolean"},description:""},onCollapsedChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(collapsed: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"collapsed"}],return:{name:"void"}}},description:""},linkComponent:{required:!1,tsType:{name:"ReactElementType",raw:"React.ElementType<SideNavLinkProps>",elements:[{name:"ReactComponentPropsWithoutRef",raw:"React.ComponentPropsWithoutRef<'a'>",elements:[{name:"literal",value:"'a'"}]}]},description:""},mobileBreakpoint:{required:!1,tsType:{name:"union",raw:"'md' | 'lg'",elements:[{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}},userEmail:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},onSignIn:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSignOut:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const I=c.createContext(null);function M({children:n}){const[s,o]=c.useState([]),r=c.useRef({}),i=c.useCallback(a=>{const t=r.current[a];t&&(window.clearTimeout(t),delete r.current[a]),o(g=>g.filter(u=>u.id!==a))},[]),p=c.useCallback(a=>{const t=Math.random().toString(36).slice(2),g={id:t,...a,variant:a.variant??"default",duration:typeof a.duration=="number"?a.duration:2800};return o(u=>[...u,g]),t},[i]);return c.useEffect(()=>{for(const t of s)t.duration&&t.duration>0&&!r.current[t.id]&&(r.current[t.id]=window.setTimeout(()=>i(t.id),t.duration));const a=new Set(s.map(t=>t.id));for(const t of Object.keys(r.current))a.has(t)||(window.clearTimeout(r.current[t]),delete r.current[t])},[s,i]),c.useEffect(()=>()=>{const a=Object.values(r.current);for(const t of a)window.clearTimeout(t);r.current={}},[]),e.jsxs(I.Provider,{value:{push:p,remove:i},children:[n,e.jsx("div",{className:"fixed bottom-4 right-4 z-[99999] pointer-events-none flex flex-col gap-2 max-w-[92vw] sm:max-w-sm","aria-live":"polite","aria-atomic":"true",children:s.map(a=>e.jsx("div",{role:"status",className:["rounded-md px-3 py-2 shadow-lg border backdrop-blur supports-[backdrop-filter]:bg-surface",a.variant==="success"?"border-success/30 text-success":a.variant==="error"?"border-danger/30 text-danger":a.variant==="info"?"border-info/30 text-[var(--color-primary)]":"border-border text-foreground/90"].join(" "),style:{pointerEvents:"auto"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-sm flex-1",children:a.message}),e.jsx("button",{"aria-label":"Close notification",className:"text-xs opacity-70 hover:opacity-100",onClick:()=>i(a.id),children:"✕"})]})},a.id))})]})}function U(){const n=c.useContext(I);if(!n)throw new Error("useToast must be used within <Toaster>");const{push:s,remove:o}=n;return{show:(r,i,p)=>s({message:r,variant:i,duration:p}),success:(r,i)=>s({message:r,variant:"success",duration:i}),error:(r,i)=>s({message:r,variant:"error",duration:i}),info:(r,i)=>s({message:r,variant:"info",duration:i}),remove:o}}M.__docgenInfo={description:"",methods:[],displayName:"Toaster",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};function V({role:n,content:s,className:o}){const r=n==="user",i=n==="assistant";return e.jsx("div",{className:["w-full flex",r?"justify-end":"justify-start",o].filter(Boolean).join(" "),children:e.jsx("div",{className:["max-w-[75ch] rounded-2xl border px-3 py-2 text-sm whitespace-pre-wrap","bg-surface border-border text-foreground"].join(" "),children:s||(i?"…":"")})})}V.__docgenInfo={description:"",methods:[],displayName:"ChatMessage",props:{role:{required:!0,tsType:{name:"union",raw:"'user' | 'assistant' | 'system'",elements:[{name:"literal",value:"'user'"},{name:"literal",value:"'assistant'"},{name:"literal",value:"'system'"}]},description:""},content:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};function P({onSend:n,placeholder:s="Type a message…",disabled:o,onTyping:r,className:i}){const[p,a]=c.useState(""),t=c.useRef(null);function g(){const b=p.trim();b&&(n(b),a(""))}function u(b){b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),g())}function m(b){const h=b.currentTarget.value;if(a(h),r){try{r(!0)}catch{}t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{try{r(!1)}catch{}},1200)}}return e.jsxs("div",{className:["w-full flex items-end gap-2 rounded-xl border border-border bg-surface p-2",i].filter(Boolean).join(" "),children:[e.jsx("textarea",{rows:1,value:p,onChange:m,onKeyDown:u,placeholder:s,className:"flex-1 resize-none bg-transparent outline-none text-sm text-foreground placeholder:text-foreground/50",disabled:o}),e.jsx(N,{size:"sm",onClick:g,disabled:o||!p.trim(),children:"Send"})]})}P.__docgenInfo={description:"",methods:[],displayName:"ChatInput",props:{onSend:{required:!0,tsType:{name:"signature",type:"function",raw:"(text: string) => void",signature:{arguments:[{type:{name:"string"},name:"text"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Type a message…'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},onTyping:{required:!1,tsType:{name:"signature",type:"function",raw:"(typing: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"typing"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};function _({open:n,onOpenChange:s,title:o,description:r,confirmLabel:i="Confirm",cancelLabel:p="Cancel",variant:a="danger",onConfirm:t,loading:g=!1}){const[u,m]=c.useState(!1),b=c.useRef(null),h=c.useRef(null),d=async()=>{m(!0);try{await t(),s(!1)}catch(v){console.error("Confirm action failed:",v)}finally{m(!1)}},l=()=>{!u&&!g&&s(!1)},f=v=>{v.target===v.currentTarget&&l()};if(c.useEffect(()=>{const v=w=>{w.key==="Escape"&&n&&l()};if(n)return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),c.useEffect(()=>{var y;if(!n||!b.current)return;const v=b.current,w=document.activeElement;(y=h.current)==null||y.focus();const k=v.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'),j=k[0],T=k[k.length-1],x=C=>{C.key==="Tab"&&(C.shiftKey?document.activeElement===j&&(C.preventDefault(),T==null||T.focus()):document.activeElement===T&&(C.preventDefault(),j==null||j.focus()))};return v.addEventListener("keydown",x),()=>{v.removeEventListener("keydown",x),w==null||w.focus()}},[n]),!n)return null;const q={danger:"border-red-500/20 bg-red-500/5",warning:"border-yellow-500/20 bg-yellow-500/5",info:"border-sky-500/20 bg-sky-500/5"};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:f,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:e.jsxs("div",{ref:b,className:`bg-background border ${q[a]} rounded-lg p-6 max-w-md w-full shadow-2xl animate-slide-in`,onClick:v=>v.stopPropagation(),children:[e.jsx("h2",{id:"confirm-dialog-title",className:"text-lg font-semibold text-foreground mb-2",children:o}),e.jsx("p",{id:"confirm-dialog-description",className:"text-sm text-foreground/70 mb-6",children:r}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(N,{ref:h,variant:"outline",onClick:l,disabled:u||g,children:p}),e.jsx(N,{variant:"primary",onClick:d,disabled:u||g,className:a==="danger"?"border-red-500 text-red-500 hover:bg-red-500/10":"",children:u||g?"Loading...":i})]})]})})}_.__docgenInfo={description:"",methods:[],displayName:"ConfirmDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},title:{required:!0,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"string"},description:""},confirmLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Confirm'",computed:!1}},cancelLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Cancel'",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:"'danger' | 'warning' | 'info'",elements:[{name:"literal",value:"'danger'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'info'"}]},description:"",defaultValue:{value:"'danger'",computed:!1}},onConfirm:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};function O({threads:n,currentId:s,onSelect:o,onNew:r,search:i,onSearch:p,showArchived:a,onToggleShowArchived:t,onPin:g,onArchive:u,onDelete:m,className:b}){const[h,d]=c.useState(null);return e.jsxs("aside",{className:["w-64 h-[100dvh] sticky top-0 border-r border-border bg-surface/60 backdrop-blur-sm flex flex-col",b].filter(Boolean).join(" "),children:[e.jsxs("div",{className:"p-3 border-b border-border flex items-center gap-2",children:[e.jsx("div",{className:"text-sm font-semibold flex-1",children:"Conversations"}),e.jsx(N,{size:"sm",variant:"outline",onClick:r,children:"New"})]}),e.jsxs("div",{className:"p-2 border-b border-border flex items-center gap-2",children:[e.jsx("input",{value:i||"",onChange:l=>p==null?void 0:p(l.currentTarget.value),placeholder:"Search",className:"w-full border border-border rounded px-2 py-1 bg-transparent text-sm"}),e.jsxs("label",{className:"flex items-center gap-1 text-xs text-foreground/70",children:[e.jsx("input",{type:"checkbox",checked:!!a,onChange:l=>t==null?void 0:t(l.currentTarget.checked)}),"Archived"]})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[n.map(l=>e.jsx("div",{role:"button",tabIndex:0,className:["w-full text-left rounded-md px-3 py-2 text-sm border",l.id===s?"border-primary text-primary bg-surface":"border-transparent hover:bg-surface text-foreground/80"].join(" "),onClick:()=>o(l.id),onKeyDown:f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),o(l.id))},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"truncate flex-1",children:l.title||"Untitled"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("button",{type:"button",className:"border rounded px-1 py-0.5",onClick:f=>{f.preventDefault(),f.stopPropagation(),g==null||g(l.id,!l.pinned)},children:l.pinned?"Unpin":"Pin"}),e.jsx("button",{type:"button",className:"border rounded px-1 py-0.5",onClick:f=>{f.preventDefault(),f.stopPropagation(),u==null||u(l.id,!l.archived)},children:l.archived?"Unarchive":"Archive"}),e.jsx("button",{type:"button",className:"border rounded px-1 py-0.5 hover:border-red-500 hover:text-red-500 transition",onClick:f=>{f.preventDefault(),f.stopPropagation(),d(l.id)},children:"Del"})]})]})},l.id)),n.length===0&&e.jsx("div",{className:"text-xs text-foreground/60 p-3",children:"No threads yet."})]}),e.jsx(_,{open:h!==null,onOpenChange:l=>!l&&d(null),title:"Delete Conversation",description:"Are you sure you want to delete this conversation? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:()=>{h&&(m==null||m(h),d(null))}})]})}O.__docgenInfo={description:"",methods:[],displayName:"ChatSidebar",props:{threads:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; title: string; pinned?: boolean; archived?: boolean; deleted_at?: string | null }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"pinned",value:{name:"boolean",required:!1}},{key:"archived",value:{name:"boolean",required:!1}},{key:"deleted_at",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}}]}}],raw:"Thread[]"},description:""},currentId:{required:!1,tsType:{name:"string"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onNew:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},search:{required:!1,tsType:{name:"string"},description:""},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(q: string) => void",signature:{arguments:[{type:{name:"string"},name:"q"}],return:{name:"void"}}},description:""},showArchived:{required:!1,tsType:{name:"boolean"},description:""},onToggleShowArchived:{required:!1,tsType:{name:"signature",type:"function",raw:"(v: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"v"}],return:{name:"void"}}},description:""},onPin:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, pinned: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"boolean"},name:"pinned"}],return:{name:"void"}}},description:""},onArchive:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, archived: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"boolean"},name:"archived"}],return:{name:"void"}}},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};function A({title:n="New chat",agentId:s,agents:o=[],onChangeAgent:r,className:i,userEmail:p,onSignIn:a,onSignOut:t,editableTitle:g,onRename:u,onlineCount:m=0,typingLabel:b,toolsEnabled:h,onToggleTools:d,navLinks:l=[],linkComponent:f}){const[q,v]=c.useState(!1),[w,k]=c.useState(n),[j,T]=c.useState(!1);c.useEffect(()=>{k(n)},[n]);const x=f||"a";return e.jsx("div",{className:["w-full border-b border-border bg-surface/60 backdrop-blur-sm",i].filter(Boolean).join(" "),children:e.jsxs("div",{className:"container-app px-3 py-2 flex items-center gap-3",children:[l.length>0&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>T(!j),className:"p-1 rounded-md hover:bg-surface transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]","aria-label":"Open navigation menu",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),j&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>T(!1)}),e.jsx("div",{className:"absolute left-0 top-full mt-1 w-48 bg-background border border-border rounded-lg shadow-xl z-50 py-2",children:l.map(y=>e.jsx(x,{href:y.href,className:"block px-4 py-2 text-sm hover:bg-surface transition",onClick:()=>T(!1),children:y.label},y.href))})]})]}),e.jsx("div",{className:"flex-1 min-w-0",children:q?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"flex-1 min-w-0 border border-border rounded px-2 py-1 bg-transparent text-sm",value:w,onChange:y=>k(y.currentTarget.value)}),e.jsx(N,{size:"sm",onClick:()=>{v(!1),u==null||u(w.trim()||"Untitled")},children:"Save"}),e.jsx(N,{size:"sm",variant:"outline",onClick:()=>{v(!1),k(n)},children:"Cancel"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"truncate text-sm font-semibold",title:n,children:n}),g&&e.jsx(N,{size:"sm",variant:"outline",onClick:()=>v(!0),children:"Edit"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xs text-foreground/60",children:"Agent"}),e.jsx("select",{value:s,onChange:y=>r==null?void 0:r(y.currentTarget.value),className:"border border-border rounded px-2 py-1 text-sm bg-transparent",children:o.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))})]}),e.jsx("div",{className:"flex items-center gap-1 text-xs ml-1",children:e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:!!h,onChange:y=>d==null?void 0:d(y.currentTarget.checked)}),"Tools"]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs ml-1 min-w-[100px]",children:[m>0&&e.jsxs("div",{className:"text-foreground/60",children:[m," online"]}),b&&e.jsx("div",{className:"text-primary/80 truncate max-w-[180px]",title:b,children:b})]}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs text-foreground/60 truncate max-w-[200px]",title:p,children:p}),e.jsx(N,{size:"sm",variant:"outline",onClick:()=>t==null?void 0:t(),children:"Sign out"})]}):e.jsx(N,{size:"sm",variant:"outline",onClick:()=>a==null?void 0:a(),children:"Sign in"})})]})})}A.__docgenInfo={description:"",methods:[],displayName:"ThreadHeader",props:{title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'New chat'",computed:!1}},agentId:{required:!1,tsType:{name:"string"},description:""},agents:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; name: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"Agent[]"},description:"",defaultValue:{value:"[]",computed:!1}},onChangeAgent:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},userEmail:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},onSignIn:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSignOut:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},editableTitle:{required:!1,tsType:{name:"boolean"},description:""},onRename:{required:!1,tsType:{name:"signature",type:"function",raw:"(title: string) => void",signature:{arguments:[{type:{name:"string"},name:"title"}],return:{name:"void"}}},description:""},onlineCount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},typingLabel:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},toolsEnabled:{required:!1,tsType:{name:"boolean"},description:""},onToggleTools:{required:!1,tsType:{name:"signature",type:"function",raw:"(enabled: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"enabled"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},navLinks:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; href: string }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}}]}}],raw:"NavLink[]"},description:"",defaultValue:{value:"[]",computed:!1}},linkComponent:{required:!1,tsType:{name:"ReactElementType",raw:"React.ElementType"},description:""}}};export{B as A,N as B,L as C,R as I,D as S,A as T,P as a,V as b,O as c,S as d,M as e,U as u};
