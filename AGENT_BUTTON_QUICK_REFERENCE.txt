================================================================================
FROK AGENT PAGE - QUICK REFERENCE & FILE LOCATIONS
================================================================================

## ABSOLUTE FILE PATHS FOR KEY COMPONENTS

### Agent Page (Main Component)
ğŸ“ C:\Dev\FROK\apps\web\src\app\(main)\agent\page.tsx
   Lines 2000-2074: Top-right button section
   Lines 101-103: Modal state variables
   Lines 114-116: Voice hooks
   Lines 2747-2770: Modal rendering

### Memory/Notebook Features
ğŸ“ C:\Dev\FROK\apps\web\src\components\AgentMemoryModal.tsx
   - Manage agent core knowledge
   - Add/delete memories by type
   - Importance ratings

ğŸ“ C:\Dev\FROK\apps\web\src\components\UserMemoriesModal.tsx
   - Personal knowledge/notes
   - Tag-based organization
   - Filter and search

ğŸ“ C:\Dev\FROK\apps\web\src\components\ThreadOptionsMenu.tsx
   - Thread settings (title, tags, folders)
   - Tool selection (Home, Memory, Web Search, Image Gen)
   - Model selection (GPT-5 variants)
   - Agent style configuration

### Voice/TTS Features
ğŸ“ C:\Dev\FROK\apps\web\src\hooks\useTextToSpeech.ts
   - TTS state management
   - Voice selection and playback
   - Speed/volume control
   - Methods: speak, pause, resume, stop

ğŸ“ C:\Dev\FROK\apps\web\src\components\TTSSettings.tsx
   - TTS configuration modal
   - Voice selector (English voices)
   - Speed slider (0.5x-2.0x)

ğŸ“ C:\Dev\FROK\apps\web\src\store\ttsStore.ts
   - Persistent TTS settings (Zustand)
   - enabled, autoPlay, voice, speed, volume

### Voice Recording
ğŸ“ C:\Dev\FROK\apps\web\src\hooks\useVoiceRecorder.ts
   - Audio recording state
   - Transcription via Whisper API
   - Audio level visualization

### Export/Share
ğŸ“ C:\Dev\FROK\apps\web\src\lib\exportConversation.ts
   - downloadMarkdown() function
   - copyToClipboard() function

### Translations
ğŸ“ C:\Dev\FROK\apps\web\messages\en.json
   - Key: memory.agentMemory.*
   - Key: memory.userMemories.*
   - Key: tts.*
   - Key: agent.threadOptions.*
   - Key: common.*

ğŸ“ C:\Dev\FROK\apps\web\messages\ko.json
   - Korean translations (same keys)

================================================================================
STATE VARIABLES ALREADY IN AGENT PAGE
================================================================================

âœ“ showMemoryModal - Controls AgentMemoryModal visibility
âœ“ showUserMemoriesModal - Controls UserMemoriesModal visibility
âœ“ showTTSSettings - Controls TTSSettingsModal visibility (currently unused)
âœ“ ttsState - 'idle' | 'speaking' | 'paused'
âœ“ recordingState - Audio recording state
âœ“ audioLevel - Visualization level for recording
âœ“ density - 'cozy' | 'compact' display mode

All infrastructure is in place for adding voice buttons!

================================================================================
QUICK START: IMPLEMENTING OPTION 1 (Voice-First)
================================================================================

STEP 1: Add Voice Settings Button (Replace Memory)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: C:\Dev\FROK\apps\web\src\app\(main)\agent\page.tsx
Line: ~2020 (where Memory button is)

Replace:
  <button onClick={() => setShowMemoryModal(true)} ... >
    ğŸ§  Memory
  </button>

With:
  <button
    onClick={() => setShowTTSSettings(true)}
    className="inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-2.5 py-1.5 text-xs text-slate-200 transition hover:border-sky-400/40 hover:bg-sky-500/10 hover:text-white"
    title="Voice settings"
  >
    ğŸ”Š
    <span className="hidden sm:inline">Voice</span>
  </button>

STEP 2: Add Voice Record Button (Replace Notebook)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: C:\Dev\FROK\apps\web\src\app\(main)\agent\page.tsx
Line: ~2027 (where Notebook button is)

Add state:
  const [showVoiceMenu, setShowVoiceMenu] = React.useState(false);

Replace:
  <button onClick={() => setShowUserMemoriesModal(true)} ... >
    ğŸ“š Notebook
  </button>

With:
  <button
    onClick={() => {
      if (recordingState === 'idle') {
        startRecording();
      } else {
        stopRecording();
      }
    }}
    className={`inline-flex items-center gap-1.5 rounded-lg border transition ${
      recordingState === 'recording'
        ? 'border-red-500/40 bg-red-500/20 text-red-400'
        : 'border-white/10 bg-white/5 text-slate-200 hover:border-sky-400/40 hover:bg-sky-500/10 hover:text-white'
    }`}
    title={recordingState === 'recording' ? 'Stop recording' : 'Start voice recording'}
  >
    ğŸ¤
    <span className="hidden sm:inline">
      {recordingState === 'recording' ? 'Recording' : 'Record'}
    </span>
  </button>

STEP 3: Add Translations
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: C:\Dev\FROK\apps\web\messages\en.json

Add:
  "voice": {
    "title": "Voice Settings",
    "record": "Record Audio",
    "recording": "Recording...",
    "recordingTitle": "Stop recording",
    "recordTitle": "Start voice recording"
  }

File: C:\Dev\FROK\apps\web\messages\ko.json

Add (Korean translations):
  "voice": {
    "title": "ìŒì„± ì„¤ì •",
    "record": "ìŒì„± ë…¹ìŒ",
    "recording": "ë…¹ìŒ ì¤‘...",
    "recordingTitle": "ë…¹ìŒ ì¤‘ì§€",
    "recordTitle": "ìŒì„± ë…¹ìŒ ì‹œì‘"
  }

STEP 4: Test
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. npm run dev
2. Navigate to /agent page
3. Click ğŸ”Š Voice button â†’ TTSSettingsModal opens
4. Click ğŸ¤ Record button â†’ starts recording (button turns red)
5. Click again â†’ stops recording + transcribes
6. Verify Memory button is removed from top bar

Estimated time: 1-2 hours

================================================================================
KEY FILES TO WATCH
================================================================================

When making changes, update these files:

Modified:
  âœ“ C:\Dev\FROK\apps\web\src\app\(main)\agent\page.tsx

Translation:
  âœ“ C:\Dev\FROK\apps\web\messages\en.json
  âœ“ C:\Dev\FROK\apps\web\messages\ko.json

Already in place (no changes needed):
  âœ“ C:\Dev\FROK\apps\web\src\hooks\useTextToSpeech.ts
  âœ“ C:\Dev\FROK\apps\web\src\hooks\useVoiceRecorder.ts
  âœ“ C:\Dev\FROK\apps\web\src\components\TTSSettings.tsx

================================================================================
TESTING CHECKLIST
================================================================================

After implementation:

[ ] Voice Settings button opens TTSSettingsModal
[ ] Can configure voice, speed, volume in modal
[ ] Settings persist across page refresh (Zustand store)
[ ] Record button starts recording
[ ] Red state shows recording in progress
[ ] Record button stops recording
[ ] Audio transcription occurs
[ ] Transcribed text appears in input field
[ ] Mobile view hides text labels, shows icons only
[ ] Blue hover state works on both buttons
[ ] Translations appear in both EN and KO
[ ] Memory management moved to settings menu (ThreadOptionsMenu)
[ ] All other buttons (Cozy, Compact, Share, Export) still work

================================================================================
