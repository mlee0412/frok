import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{r as f}from"./index-BfiH1CDa.js";function L(...t){return t.filter(Boolean).join(" ")}const h=f.forwardRef(({className:t,variant:s="primary",size:l="md",...r},i)=>{const p="inline-flex items-center justify-center gap-2 rounded-md font-medium border focus-visible:outline-none focus-visible:ring-2 transition",a={sm:"h-8 px-3 text-xs",md:"h-9 px-4 text-sm",lg:"h-11 px-5 text-base"},n={primary:"bg-[var(--color-surface)] text-[var(--color-primary)] border-[var(--color-primary)] hover:opacity-90 focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1 focus-visible:ring-offset-black/20",outline:"bg-transparent text-[var(--color-foreground)] border-[var(--color-border)] hover:bg-[var(--color-surface)] focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1 focus-visible:ring-offset-black/20",ghost:"bg-transparent text-[var(--color-foreground)] border-transparent hover:bg-[var(--color-surface)] focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1 focus-visible:ring-offset-black/20"};return e.jsx("button",{ref:i,className:L(p,a[l],n[s],t),...r})});h.displayName="Button";h.__docgenInfo={description:"",methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:"'primary' | 'outline' | 'ghost'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'outline'"},{name:"literal",value:"'ghost'"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}}}};function E({className:t,...s}){return e.jsx("div",{className:["rounded-2xl border border-[var(--color-border)] bg-[var(--color-surface)] shadow-xl backdrop-blur-sm",t].filter(Boolean).join(" "),...s})}E.__docgenInfo={description:"",methods:[],displayName:"Card",props:{asChild:{required:!1,tsType:{name:"boolean"},description:""}}};function S({items:t,value:s,defaultValue:l,onValueChange:r,className:i}){var c;const[p,a]=f.useState(l??((c=t[0])==null?void 0:c.value)??""),n=s??p;function g(u){a(u),r==null||r(u)}return e.jsx("div",{className:["w-full",i].filter(Boolean).join(" "),children:e.jsx("div",{role:"tablist",className:"flex border-b border-border gap-1",children:t.map(u=>e.jsx("button",{role:"tab","aria-selected":n===u.value,onClick:()=>g(u.value),className:["px-3 py-2 text-sm rounded-t-md border-b-2",n===u.value?"text-primary border-primary/60":"text-foreground/70 border-transparent hover:text-foreground"].join(" "),children:u.label},u.value))})})}S.__docgenInfo={description:"",methods:[],displayName:"Tabs",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"Item[]"},description:""},value:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"string"},description:""},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(v: string) => void",signature:{arguments:[{type:{name:"string"},name:"v"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const C=f.forwardRef(({className:t,...s},l)=>e.jsx("input",{ref:l,className:["h-9 w-full rounded-md bg-surface border border-border px-3 text-sm text-foreground placeholder:text-foreground/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1",t].filter(Boolean).join(" "),...s}));C.displayName="Input";C.__docgenInfo={description:"",methods:[],displayName:"Input"};function z({sideNav:t,header:s,children:l,footer:r,className:i}){return e.jsxs("div",{className:["min-h-[100dvh] flex items-stretch overflow-hidden bg-background text-foreground",i].filter(Boolean).join(" "),children:[e.jsx("div",{className:"flex-none",children:t}),e.jsxs("main",{className:"flex-1 flex flex-col h-[100dvh] overflow-y-auto",children:[s,e.jsx("div",{className:"flex-1 container-app",children:l}),r&&e.jsx("div",{className:"mt-auto border-t border-border",children:e.jsx("div",{className:"container-app px-4 py-3 text-xs text-foreground/60",children:r})})]})]})}z.__docgenInfo={description:"",methods:[],displayName:"AppShell",props:{sideNav:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},header:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},footer:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const B=f.forwardRef(function(s,l){return e.jsx("a",{ref:l,...s})});function M({items:t,header:s,footer:l,activeHref:r,className:i,collapsible:p,defaultCollapsed:a,onCollapsedChange:n,linkComponent:g,mobileBreakpoint:c="md",userEmail:u,onSignIn:b,onSignOut:y}){const[d,m]=f.useState(!!a),[o,j]=f.useState(!1),w=x=>r&&(x==="/dashboard"?r==="/dashboard":r===x||r.startsWith(x+"/")),q=g??B,T=()=>{j(!1)},N=c==="lg"?"lg:flex":"md:flex",k=c==="lg"?"hidden lg:flex":"hidden md:flex";return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>j(!0),className:`${N.replace(":flex",":hidden")} fixed top-4 left-4 z-40 p-2 rounded-md bg-surface border border-border text-foreground hover:bg-surface/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]`,"aria-label":"Open navigation menu",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&e.jsx("div",{className:`${N.replace(":flex",":hidden")} fixed inset-0 bg-black/50 z-40`,onClick:()=>j(!1),"aria-hidden":"true"}),e.jsxs("aside",{className:[d?"w-16":"w-60","h-screen border-r border-border backdrop-blur-sm bg-surface py-6 overflow-hidden",o?"flex flex-col fixed top-0 left-0 z-50 shadow-2xl":"",o?"":k,o?"":"sticky top-0",c==="lg"?"lg:flex-col":"md:flex-col",i].filter(Boolean).join(" "),"aria-expanded":!d,"data-collapsed":d?"true":"false",children:[o&&e.jsx("button",{type:"button",onClick:()=>j(!1),className:`${N.replace(":flex",":hidden")} absolute top-4 right-4 p-1 rounded-md text-foreground/60 hover:text-foreground hover:bg-surface focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]`,"aria-label":"Close navigation menu",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s,p?e.jsx("div",{className:"px-4 mb-4",children:e.jsxs("button",{type:"button","aria-label":d?"Expand navigation":"Collapse navigation","aria-expanded":!d,className:"w-full text-xs rounded-md border border-border text-foreground/80 hover:bg-surface px-2 py-1 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1",onClick:()=>{const x=!d;m(x),n==null||n(x)},children:[d?"»":"«"," Menu"]})}):null,e.jsx("nav",{className:["flex flex-col space-y-1 w-full",d?"px-2":"px-4"].join(" "),children:t.map(x=>{if(x.disabled)return e.jsx("div",{className:["py-1 text-xs text-center text-foreground/20 pointer-events-none",d?"px-0":"px-4"].join(" "),"aria-hidden":"true",children:d?"":x.label},x.href);const v=w(x.href)?"page":void 0,_=["rounded-md py-2 text-sm transition border-l-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)] focus-visible:ring-offset-1",d?"px-0 text-center":"pl-4 pr-3 text-left",v?"bg-surface text-primary border-l-primary":"hover:bg-surface hover:text-primary border-l-transparent text-foreground/80"].join(" ");return e.jsxs(q,{href:x.href,title:x.label,"aria-current":v,className:_,onClick:T,children:[e.jsx("span",{className:d?"sr-only":"",children:x.label}),d?e.jsx("span",{"aria-hidden":!0,children:"•"}):null]},x.href)})}),(u||b)&&e.jsx("div",{className:"mt-auto px-4 pt-4 border-t border-border",children:u?e.jsxs("div",{className:"space-y-2",children:[!d&&e.jsx("div",{className:"text-xs text-foreground/60 truncate",title:u,children:u}),e.jsx("button",{onClick:y,className:"w-full px-3 py-2 text-sm bg-surface hover:bg-surface/80 border border-border rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]",children:d?"↪":"Sign Out"})]}):e.jsx("button",{onClick:b,className:"w-full px-3 py-2 text-sm bg-primary hover:bg-primary/90 text-white rounded-md transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]",children:d?"→":"Sign In"})}),l]})]})}M.__docgenInfo={description:"",methods:[],displayName:"SideNav",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; href: string; disabled?: boolean }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}}]}}],raw:"Item[]"},description:""},header:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},footer:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},activeHref:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},collapsible:{required:!1,tsType:{name:"boolean"},description:""},defaultCollapsed:{required:!1,tsType:{name:"boolean"},description:""},onCollapsedChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(collapsed: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"collapsed"}],return:{name:"void"}}},description:""},linkComponent:{required:!1,tsType:{name:"ReactElementType",raw:"React.ElementType<SideNavLinkProps>",elements:[{name:"ReactComponentPropsWithoutRef",raw:"React.ComponentPropsWithoutRef<'a'>",elements:[{name:"literal",value:"'a'"}]}]},description:""},mobileBreakpoint:{required:!1,tsType:{name:"union",raw:"'md' | 'lg'",elements:[{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}},userEmail:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},onSignIn:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSignOut:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const R=f.createContext(null);function D({children:t}){const[s,l]=f.useState([]),r=f.useRef({}),i=f.useCallback(a=>{const n=r.current[a];n&&(window.clearTimeout(n),delete r.current[a]),l(g=>g.filter(c=>c.id!==a))},[]),p=f.useCallback(a=>{const n=Math.random().toString(36).slice(2),g={id:n,...a,variant:a.variant??"default",duration:typeof a.duration=="number"?a.duration:2800};return l(c=>[...c,g]),n},[i]);return f.useEffect(()=>{for(const n of s)n.duration&&n.duration>0&&!r.current[n.id]&&(r.current[n.id]=window.setTimeout(()=>i(n.id),n.duration));const a=new Set(s.map(n=>n.id));for(const n of Object.keys(r.current))a.has(n)||(window.clearTimeout(r.current[n]),delete r.current[n])},[s,i]),f.useEffect(()=>()=>{const a=Object.values(r.current);for(const n of a)window.clearTimeout(n);r.current={}},[]),e.jsxs(R.Provider,{value:{push:p,remove:i},children:[t,e.jsx("div",{className:"fixed bottom-4 right-4 z-[99999] pointer-events-none flex flex-col gap-2 max-w-[92vw] sm:max-w-sm","aria-live":"polite","aria-atomic":"true",children:s.map(a=>e.jsx("div",{role:"status",className:["rounded-md px-3 py-2 shadow-lg border backdrop-blur supports-[backdrop-filter]:bg-surface",a.variant==="success"?"border-success/30 text-success":a.variant==="error"?"border-danger/30 text-danger":a.variant==="info"?"border-info/30 text-[var(--color-primary)]":"border-border text-foreground/90"].join(" "),style:{pointerEvents:"auto"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-sm flex-1",children:a.message}),e.jsx("button",{"aria-label":"Close notification",className:"text-xs opacity-70 hover:opacity-100",onClick:()=>i(a.id),children:"✕"})]})},a.id))})]})}function $(){const t=f.useContext(R);if(!t)throw new Error("useToast must be used within <Toaster>");const{push:s,remove:l}=t;return{show:(r,i,p)=>s({message:r,variant:i,duration:p}),success:(r,i)=>s({message:r,variant:"success",duration:i}),error:(r,i)=>s({message:r,variant:"error",duration:i}),info:(r,i)=>s({message:r,variant:"info",duration:i}),remove:l}}D.__docgenInfo={description:"",methods:[],displayName:"Toaster",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};function V({role:t,content:s,className:l}){const r=t==="user",i=t==="assistant";return e.jsx("div",{className:["w-full flex",r?"justify-end":"justify-start",l].filter(Boolean).join(" "),children:e.jsx("div",{className:["max-w-[75ch] rounded-2xl border px-3 py-2 text-sm whitespace-pre-wrap","bg-surface border-border text-foreground"].join(" "),children:s||(i?"…":"")})})}V.__docgenInfo={description:"",methods:[],displayName:"ChatMessage",props:{role:{required:!0,tsType:{name:"union",raw:"'user' | 'assistant' | 'system'",elements:[{name:"literal",value:"'user'"},{name:"literal",value:"'assistant'"},{name:"literal",value:"'system'"}]},description:""},content:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};function P({onSend:t,placeholder:s="Type a message…",disabled:l,onTyping:r,className:i}){const[p,a]=f.useState(""),n=f.useRef(null);function g(){const b=p.trim();b&&(t(b),a(""))}function c(b){b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),g())}function u(b){const y=b.currentTarget.value;if(a(y),r){try{r(!0)}catch{}n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{try{r(!1)}catch{}},1200)}}return e.jsxs("div",{className:["w-full flex items-end gap-2 rounded-xl border border-border bg-surface p-2",i].filter(Boolean).join(" "),children:[e.jsx("textarea",{rows:1,value:p,onChange:u,onKeyDown:c,placeholder:s,className:"flex-1 resize-none bg-transparent outline-none text-sm text-foreground placeholder:text-foreground/50",disabled:l}),e.jsx(h,{size:"sm",onClick:g,disabled:l||!p.trim(),children:"Send"})]})}P.__docgenInfo={description:"",methods:[],displayName:"ChatInput",props:{onSend:{required:!0,tsType:{name:"signature",type:"function",raw:"(text: string) => void",signature:{arguments:[{type:{name:"string"},name:"text"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Type a message…'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},onTyping:{required:!1,tsType:{name:"signature",type:"function",raw:"(typing: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"typing"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};function I({open:t,onOpenChange:s,title:l,description:r,confirmLabel:i="Confirm",cancelLabel:p="Cancel",variant:a="danger",onConfirm:n,loading:g=!1}){const[c,u]=f.useState(!1),b=async()=>{u(!0);try{await n(),s(!1)}catch(o){console.error("Confirm action failed:",o)}finally{u(!1)}},y=()=>{!c&&!g&&s(!1)},d=o=>{o.target===o.currentTarget&&y()};if(f.useEffect(()=>{const o=j=>{j.key==="Escape"&&t&&y()};if(t)return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t]),!t)return null;const m={danger:"border-red-500/20 bg-red-500/5",warning:"border-yellow-500/20 bg-yellow-500/5",info:"border-sky-500/20 bg-sky-500/5"};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:d,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:e.jsxs("div",{className:`bg-background border ${m[a]} rounded-lg p-6 max-w-md w-full shadow-2xl animate-slide-in`,onClick:o=>o.stopPropagation(),children:[e.jsx("h2",{id:"confirm-dialog-title",className:"text-lg font-semibold text-foreground mb-2",children:l}),e.jsx("p",{id:"confirm-dialog-description",className:"text-sm text-foreground/70 mb-6",children:r}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(h,{variant:"outline",onClick:y,disabled:c||g,children:p}),e.jsx(h,{variant:"primary",onClick:b,disabled:c||g,className:a==="danger"?"border-red-500 text-red-500 hover:bg-red-500/10":"",children:c||g?"Loading...":i})]})]})})}I.__docgenInfo={description:"",methods:[],displayName:"ConfirmDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},title:{required:!0,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"string"},description:""},confirmLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Confirm'",computed:!1}},cancelLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Cancel'",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:"'danger' | 'warning' | 'info'",elements:[{name:"literal",value:"'danger'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'info'"}]},description:"",defaultValue:{value:"'danger'",computed:!1}},onConfirm:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};function O({threads:t,currentId:s,onSelect:l,onNew:r,search:i,onSearch:p,showArchived:a,onToggleShowArchived:n,onPin:g,onArchive:c,onDelete:u,className:b}){const[y,d]=f.useState(null);return e.jsxs("aside",{className:["w-64 h-[100dvh] sticky top-0 border-r border-border bg-surface/60 backdrop-blur-sm flex flex-col",b].filter(Boolean).join(" "),children:[e.jsxs("div",{className:"p-3 border-b border-border flex items-center gap-2",children:[e.jsx("div",{className:"text-sm font-semibold flex-1",children:"Conversations"}),e.jsx(h,{size:"sm",variant:"outline",onClick:r,children:"New"})]}),e.jsxs("div",{className:"p-2 border-b border-border flex items-center gap-2",children:[e.jsx("input",{value:i||"",onChange:m=>p==null?void 0:p(m.currentTarget.value),placeholder:"Search",className:"w-full border border-border rounded px-2 py-1 bg-transparent text-sm"}),e.jsxs("label",{className:"flex items-center gap-1 text-xs text-foreground/70",children:[e.jsx("input",{type:"checkbox",checked:!!a,onChange:m=>n==null?void 0:n(m.currentTarget.checked)}),"Archived"]})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[t.map(m=>e.jsx("div",{role:"button",tabIndex:0,className:["w-full text-left rounded-md px-3 py-2 text-sm border",m.id===s?"border-primary text-primary bg-surface":"border-transparent hover:bg-surface text-foreground/80"].join(" "),onClick:()=>l(m.id),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),l(m.id))},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"truncate flex-1",children:m.title||"Untitled"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("button",{type:"button",className:"border rounded px-1 py-0.5",onClick:o=>{o.preventDefault(),o.stopPropagation(),g==null||g(m.id,!m.pinned)},children:m.pinned?"Unpin":"Pin"}),e.jsx("button",{type:"button",className:"border rounded px-1 py-0.5",onClick:o=>{o.preventDefault(),o.stopPropagation(),c==null||c(m.id,!m.archived)},children:m.archived?"Unarchive":"Archive"}),e.jsx("button",{type:"button",className:"border rounded px-1 py-0.5 hover:border-red-500 hover:text-red-500 transition",onClick:o=>{o.preventDefault(),o.stopPropagation(),d(m.id)},children:"Del"})]})]})},m.id)),t.length===0&&e.jsx("div",{className:"text-xs text-foreground/60 p-3",children:"No threads yet."})]}),e.jsx(I,{open:y!==null,onOpenChange:m=>!m&&d(null),title:"Delete Conversation",description:"Are you sure you want to delete this conversation? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:()=>{y&&(u==null||u(y),d(null))}})]})}O.__docgenInfo={description:"",methods:[],displayName:"ChatSidebar",props:{threads:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; title: string; pinned?: boolean; archived?: boolean; deleted_at?: string | null }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"pinned",value:{name:"boolean",required:!1}},{key:"archived",value:{name:"boolean",required:!1}},{key:"deleted_at",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}}]}}],raw:"Thread[]"},description:""},currentId:{required:!1,tsType:{name:"string"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onNew:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},search:{required:!1,tsType:{name:"string"},description:""},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(q: string) => void",signature:{arguments:[{type:{name:"string"},name:"q"}],return:{name:"void"}}},description:""},showArchived:{required:!1,tsType:{name:"boolean"},description:""},onToggleShowArchived:{required:!1,tsType:{name:"signature",type:"function",raw:"(v: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"v"}],return:{name:"void"}}},description:""},onPin:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, pinned: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"boolean"},name:"pinned"}],return:{name:"void"}}},description:""},onArchive:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, archived: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"boolean"},name:"archived"}],return:{name:"void"}}},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};function A({title:t="New chat",agentId:s,agents:l=[],onChangeAgent:r,className:i,userEmail:p,onSignIn:a,onSignOut:n,editableTitle:g,onRename:c,onlineCount:u=0,typingLabel:b,toolsEnabled:y,onToggleTools:d,navLinks:m=[],linkComponent:o}){const[j,w]=f.useState(!1),[q,T]=f.useState(t),[N,k]=f.useState(!1);f.useEffect(()=>{T(t)},[t]);const x=o||"a";return e.jsx("div",{className:["w-full border-b border-border bg-surface/60 backdrop-blur-sm",i].filter(Boolean).join(" "),children:e.jsxs("div",{className:"container-app px-3 py-2 flex items-center gap-3",children:[m.length>0&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>k(!N),className:"p-1 rounded-md hover:bg-surface transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-ring)]","aria-label":"Open navigation menu",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>k(!1)}),e.jsx("div",{className:"absolute left-0 top-full mt-1 w-48 bg-background border border-border rounded-lg shadow-xl z-50 py-2",children:m.map(v=>e.jsx(x,{href:v.href,className:"block px-4 py-2 text-sm hover:bg-surface transition",onClick:()=>k(!1),children:v.label},v.href))})]})]}),e.jsx("div",{className:"flex-1 min-w-0",children:j?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"flex-1 min-w-0 border border-border rounded px-2 py-1 bg-transparent text-sm",value:q,onChange:v=>T(v.currentTarget.value)}),e.jsx(h,{size:"sm",onClick:()=>{w(!1),c==null||c(q.trim()||"Untitled")},children:"Save"}),e.jsx(h,{size:"sm",variant:"outline",onClick:()=>{w(!1),T(t)},children:"Cancel"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"truncate text-sm font-semibold",title:t,children:t}),g&&e.jsx(h,{size:"sm",variant:"outline",onClick:()=>w(!0),children:"Edit"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xs text-foreground/60",children:"Agent"}),e.jsx("select",{value:s,onChange:v=>r==null?void 0:r(v.currentTarget.value),className:"border border-border rounded px-2 py-1 text-sm bg-transparent",children:l.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))})]}),e.jsx("div",{className:"flex items-center gap-1 text-xs ml-1",children:e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:!!y,onChange:v=>d==null?void 0:d(v.currentTarget.checked)}),"Tools"]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs ml-1 min-w-[100px]",children:[u>0&&e.jsxs("div",{className:"text-foreground/60",children:[u," online"]}),b&&e.jsx("div",{className:"text-primary/80 truncate max-w-[180px]",title:b,children:b})]}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs text-foreground/60 truncate max-w-[200px]",title:p,children:p}),e.jsx(h,{size:"sm",variant:"outline",onClick:()=>n==null?void 0:n(),children:"Sign out"})]}):e.jsx(h,{size:"sm",variant:"outline",onClick:()=>a==null?void 0:a(),children:"Sign in"})})]})})}A.__docgenInfo={description:"",methods:[],displayName:"ThreadHeader",props:{title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'New chat'",computed:!1}},agentId:{required:!1,tsType:{name:"string"},description:""},agents:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; name: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"Agent[]"},description:"",defaultValue:{value:"[]",computed:!1}},onChangeAgent:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},userEmail:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},onSignIn:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSignOut:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},editableTitle:{required:!1,tsType:{name:"boolean"},description:""},onRename:{required:!1,tsType:{name:"signature",type:"function",raw:"(title: string) => void",signature:{arguments:[{type:{name:"string"},name:"title"}],return:{name:"void"}}},description:""},onlineCount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},typingLabel:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},toolsEnabled:{required:!1,tsType:{name:"boolean"},description:""},onToggleTools:{required:!1,tsType:{name:"signature",type:"function",raw:"(enabled: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"enabled"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},navLinks:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; href: string }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}}]}}],raw:"NavLink[]"},description:"",defaultValue:{value:"[]",computed:!1}},linkComponent:{required:!1,tsType:{name:"ReactElementType",raw:"React.ElementType"},description:""}}};export{z as A,h as B,E as C,C as I,M as S,A as T,P as a,V as b,O as c,S as d,D as e,$ as u};
