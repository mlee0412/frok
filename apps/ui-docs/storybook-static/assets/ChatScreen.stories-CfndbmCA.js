import{j as s}from"./jsx-runtime-BjG_zV1W.js";import{r as o}from"./index-BfiH1CDa.js";import{c as C,T as N,b as T,a as I}from"./ThreadHeader-Cn6pGfek.js";import"./_commonjsHelpers-Cpj98o6Y.js";const y={title:"Chat/ChatScreen"},i={render:()=>s.jsx(M,{})};function M(){var u;const[d,n]=o.useState([{id:"t1",title:"Welcome",pinned:!0},{id:"t2",title:"Ideas"},{id:"t3",title:"Shopping list",archived:!0}]),[c,x]=o.useState("t1"),[g,m]=o.useState([{id:"m1",role:"assistant",content:"Hello! This is a demo chat."}]),[l,v]=o.useState(""),[h,b]=o.useState(!1),j=o.useMemo(()=>{const e=l.trim().toLowerCase();return d.filter(t=>!t.deleted_at).filter(t=>h?!0:!t.archived).filter(t=>e?(t.title||"").toLowerCase().includes(e):!0).sort((t,r)=>+!!r.pinned-+!!t.pinned)},[d,l,h]);function w(e){m(t=>[...t,{id:Math.random().toString(36).slice(2),role:"user",content:e}]),setTimeout(()=>m(t=>[...t,{id:Math.random().toString(36).slice(2),role:"assistant",content:"Echo: "+e}]),300)}return s.jsxs("div",{className:"min-h-[80vh] border border-border rounded overflow-hidden flex",children:[s.jsx(C,{threads:j,currentId:c,onSelect:e=>x(e),onNew:()=>n(e=>[{id:Math.random().toString(36).slice(2),title:"New chat"},...e]),search:l,onSearch:v,showArchived:h,onToggleShowArchived:b,onPin:(e,t)=>n(r=>r.map(a=>a.id===e?{...a,pinned:t}:a)),onArchive:(e,t)=>n(r=>r.map(a=>a.id===e?{...a,archived:t}:a)),onDelete:e=>n(t=>t.map(r=>r.id===e?{...r,deleted_at:new Date().toISOString()}:r))}),s.jsxs("main",{className:"flex-1 flex flex-col",children:[s.jsx(N,{title:((u=d.find(e=>e.id===c))==null?void 0:u.title)||"New chat",agentId:"default",agents:[{id:"default",name:"Default"}],editableTitle:!0,onRename:e=>n(t=>t.map(r=>r.id===c?{...r,title:e}:r))}),s.jsx("div",{className:"flex-1 p-3 space-y-2 overflow-y-auto",children:g.map(e=>s.jsx(T,{role:e.role,content:e.content},e.id))}),s.jsx("div",{className:"p-3 border-t border-border",children:s.jsx(I,{onSend:w})})]})]})}var p,S,f;i.parameters={...i.parameters,docs:{...(p=i.parameters)==null?void 0:p.docs,source:{originalSource:`{
  render: () => <DemoChatScreen />
}`,...(f=(S=i.parameters)==null?void 0:S.docs)==null?void 0:f.source}}};const B=["Basic"];export{i as Basic,B as __namedExportsOrder,y as default};
